<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel= "icon" href= "media/dado_favicon.png" type="image/png/" />
    <title>Dice & Dungeons - Personaggio</title>
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/schedaPg/personaggio.css">
</head>
<body>
    <div class="character-sheet">
        <form id="creazionescheda" action="salvapersonaggio" method="post">
        <div class="header">
            <a href="home">
            <img src="media/logo.png" alt="Logo" class="logo">
            </a>
            <h1>Nome Personaggio</h1>
            <input type="text" class="character-name" id="nome" name="Nome" required>
            <input type="text" id="imageurl" name="Immagine" class="imageurl" placeholder="Enter Image URL" required>
            <button type="button" id="update-image" class="update-image" onclick="updateImage()">Update Image</button>
        </div>

        <div class="character-image">
            <img id="character-img" src="media/gnomo.png" alt="Immagine del Personaggio">
        </div>

        <div class="info-section">
            <div class="left-column">
                <label>Razza</label><input type="text" id="razza" name="Razza" required>
                <label>Classe</label><input type="text" id="classe" name="Classe" required>
                <label>Livello</label><input type="number" id="livello" name="Livello" class="numeric-input" min="1" required>
            </div>
            <div class="right-column">
                <label>Allineamento</label><input type="text" id="allineamento" name="Allineamento" required>
                <label>Punti Vita</label><input type="number" id="hp" name="Punti Vita" class="numeric-input" min="1" required>
                <label>Background</label><textarea id="background" name="Background" rows="2"></textarea>
            </div>
        </div>

        <div class="attributes">
            <div class="attribute">
                <label>Forza</label>
                <input type="number" id="forza" name="Forza" class="numeric-input" min="8" max="20" oninput="validateInput(this)" required>
                <button type="button" class="dice-button" onclick="rollDiceWithModifier('forza', 'forza-result', this)">
                    <img src="media/dado.png" alt="Lancia D20">
                </button>
                <span id="forza-result" class="result"></span>
            </div>
            <div class="attribute">
                <label>Destrezza</label>
                <input type="number" id="destrezza" name="Destrezza" class="numeric-input" min="8" max="20" oninput="validateInput(this)" required>
                <button type="button" class="dice-button" onclick="rollDiceWithModifier('destrezza', 'destrezza-result', this)">
                    <img src="media/dado.png" alt="Lancia D20">
                </button>
                <span id="destrezza-result" class="result"></span>
            </div>
            <div class="attribute">
                <label>Costituzione</label>
                <input type="number" id="costituzione" name="Costituzione" class="numeric-input" min="8" max="20" oninput="validateInput(this)" required>
                <button type="button" class="dice-button" onclick="rollDiceWithModifier('costituzione', 'costituzione-result', this)">
                    <img src="media/dado.png" alt="Lancia D20">
                </button>
                <span id="costituzione-result" class="result"></span>
            </div>
            <div class="attribute">
                <label>Intelligenza</label>
                <input type="number" id="intelligenza" name="Intelligenza" class="numeric-input" min="8" max="20" oninput="validateInput(this)" required>
                <button type="button" class="dice-button" onclick="rollDiceWithModifier('intelligenza', 'intelligenza-result', this)">
                    <img src="media/dado.png" alt="Lancia D20">
                </button>
                <span id="intelligenza-result" class="result"></span>
            </div>
            <div class="attribute">
                <label>Saggezza</label>
                <input type="number" id="saggezza" name="Saggezza" class="numeric-input" min="8" max="20" oninput="validateInput(this)" required>
                <button type="button" class="dice-button" onclick="rollDiceWithModifier('saggezza', 'saggezza-result', this)">
                    <img src="media/dado.png" alt="Lancia D20">
                </button>
                <span id="saggezza-result" class="result"></span>
            </div>
            <div class="attribute">
                <label>Carisma</label>
                <input type="number" id="carisma" name="Carisma" class="numeric-input" min="8" max="20" oninput="validateInput(this)" required>
                <button type="button" class="dice-button" onclick="rollDiceWithModifier('carisma', 'carisma-result', this)">
                    <img src="media/dado.png" alt="Lancia D20">
                </button>
                <span id="carisma-result" class="result"></span>
            </div>
        </div>

        <div class="calculations">
            <button type="button" class="calculate-button" onclick="updateCalculations()">Calcola Armor Class e Iniziativa</button>
            <div>
                <input type="hidden" name="Armor Class" id="armorclass" required>
                <span id="armor-class-result" class="result"> Armor Class </span>
                <input type="hidden" name="Iniziativa" id="iniziativa" required>
                <span id="initiative-result" class="result"> Iniziativa </span>
            </div>
        </div>

        <div class="equipment-section">
            <h3>Equipaggiamento</h3>
            <textarea id="equipaggiamento" rows="2"></textarea>
        </div>

        <div class="traits-section">
            <label>Carattere</label><textarea id="carattere" rows="1"></textarea>
            <label>Ideali</label><textarea id="ideali" rows="1"></textarea>
        </div>
        <div class="submit">
            <button type="button" class="create-button" onclick="creaPersonaggio()">Salva</button>
            <spand id="success-message" class="success-message"></span>
            <br>
            <span id="error-message" class="error"></span>
        </div>
    </form>
    </div>

    <script src="schedaPg/personaggio.js"></script>
</body>
</html>